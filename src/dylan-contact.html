<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="shared-styles.html">

<dom-module id="dylan-contact">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        padding: 16px;
        --paper-input-container-input-color: var(--app-secondary-text);
        --paper-input-container-focus-color: var(--app-primary-text);
      }
      paper-card {
        display: block;
        max-width: 512px;
        margin: 1em auto;
        padding: 24px;
      }
      paper-input,
      paper-icon-button {
        transition: all 0.4s ease;
      }
      paper-icon-button {
        color: var(--app-disabled-text);
      }
      paper-icon-button:hover {
        color: var(--app-primary-color);
      }
      :host(.success) {
        color: var(--app-secondary-color);
      }
      button[disabled] {
        cursor: auto;
        pointer-events: none;
        opacity: 0.54;
      }
      button {
        display: block;
        width: 100%;
        max-width: 512px;
        margin: 1em auto;
        background-color: var(--app-primary-color);
        text-align: center;
        color: #fff;
        border-radius: 2px;
        -webkit-border-radius: 2px;
        -moz-border-radius: 2px;
        padding: 16px 0;
        cursor: pointer;
      }
    </style>

    <form action="https://formspree.io/dyates.texas@gmail.com" method="POST">
      <paper-card>
        <h2 class="md-type--display1 md-type--app-primary-text md-type--bold">Get In Touch</h2>
        <p class="md-type--subhead md-type--app-primary-text">Are you in need of <strong>graphic design</strong>, <strong>web design</strong>, <strong>front end web development</strong>, or <strong>website consulting</strong>? If so, fill out the form below to send me your contact information. If not, feel free to still get in touch.</p>
        <paper-input type="text" name="name" label="Full Name" value="{{fullName}}"></paper-input>
        <paper-input type="email" name="_replyTo" label="Email Address" value="{{emailAddress}}"></paper-input>
      </paper-card>
      <button class="md-type--button" type="submit" title="Send Email" disabled$="{{formValid}}">SEND</button>
    </form>

  </template>

  <script>
    class DylanContact extends Polymer.Element {
      static get is() { return 'dylan-contact'; }
      static get properties() {
        return {
          rootPath: String,
          fullName: {
            type: String,
            notify: true,
            value: ''
          },
          emailAddress: {
            type: String,
            notify: true,
            value: ''
          },
          formValid: {
            computed: '_validateInputs(fullName, emailAddress)'
          }
        }
      }

      connectedCallback() {
        super.connectedCallback();
        // Disable button by setting inputs to undefined
        this.$.fullName = undefined;
        this.$.emailAddress = undefined;
      }

      _validateInputs(from, reply) {
        if(!from || !reply || reply.length < 6) {
          return true;
        } else {
          return false;
        }
      }
    }

    window.customElements.define(DylanContact.is, DylanContact);
  </script>
</dom-module>
