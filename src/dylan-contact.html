<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="shared-styles.html">

<dom-module id="dylan-contact">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        padding: 16px;
        --paper-input-container-input-color: var(--app-secondary-text);
        --paper-input-container-focus-color: var(--app-primary-text);
      }
      paper-card {
        display: block;
        max-width: 512px;
        margin: 1em auto;
        padding: 24px;
      }
      button[disabled] {
        cursor: auto;
        pointer-events: none;
        opacity: 0.54;
      }
      button {
        display: block;
        width: 100%;
        max-width: 512px;
        margin: 1em auto;
        background-color: var(--app-primary-color);
        text-align: center;
        color: #fff;
        border-radius: 2px;
        -webkit-border-radius: 2px;
        -moz-border-radius: 2px;
        padding: 16px 0;
        cursor: pointer;
      }
      a {
        text-decoration: none;
        color: inherit;
        font-weight: 500;
      }
      a:hover {
        text-decoration: underline;
      }
      iron-icon {
        height: 16px;
        width: 16px;
        margin-top: -2px;
      }
    </style>

    <form action="https://formspree.io/dwreckfoo.github@gmail.com" method="POST">
      <paper-card>
        <h2 class="md-type--display1 md-type--app-primary-text md-type--bold">Get In Touch</h2>
        <p class="md-type--subhead md-type--app-primary-text">Are you in need of <a name="graphics" href="[[rootPath]]#/graphics" title="Graphic Design Elements">graphic design</a>, <a name="graphics" href="[[rootPath]]#/designer" title="Web Design Elements">web design</a>, <a name="graphics" href="[[rootPath]]#/developer" title="Web Developer Elements">front end web development</a>, or <a name="graphics" href="[[rootPath]]#/all" title="All Elements">website consulting</a>? If so, fill out the form below to send me your contact information. If not, feel free to still get in touch with me.</p>
        <paper-input type="text" name="name" label="Full Name" value="{{fullName}}"></paper-input>
        <paper-input type="email" name="_replyTo" label="Email Address" value="{{emailAddress}}"></paper-input>
      </paper-card>
      <button class="md-type--button" type="submit" title="Send Email" disabled$="{{formValid}}">SEND <iron-icon icon="dylan-icons:open_in_new"></iron-icon></button>
    </form>

  </template>

  <script>
    class DylanContact extends Polymer.Element {
      static get is() { return 'dylan-contact'; }
      static get properties() {
        return {
          rootPath: String,
          fullName: {
            type: String,
            notify: true,
            value: ''
          },
          emailAddress: {
            type: String,
            notify: true,
            value: ''
          },
          formValid: {
            computed: '_validateInputs(fullName, emailAddress)'
          }
        }
      }

      connectedCallback() {
        super.connectedCallback();
        // Disable button by setting inputs to undefined
        this.$.fullName = undefined;
        this.$.emailAddress = undefined;
      }

      disconnectedCallback() {
        super.disconnectedCallback();
      }

      _validateInputs(from, reply) {
        if(!from || !reply || reply.length < 6) {
          return true;
        } else {
          return false;
        }
      }
    }

    window.customElements.define(DylanContact.is, DylanContact);
  </script>
</dom-module>
