<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="home-card">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
      .push-left {
        padding-left: 12px;
      }
      paper-card {
        display: block;
        width: 512px;
        max-width: 100%;
        margin: 0 auto;
        margin-top: 1em;
        padding: 24px;
        padding-top: 28px;
        padding-bottom: 28px;
      }
      paper-card * {
        padding: 8px;
      }
      .toolbar {
        height: 34px;
        max-width: 100%;
        border-radius: 2px;
        -webkit-border-radius: 2px;
        -moz-border-radius: 2px;
      }
      a {
        color: var(--app-disabled-text);
        text-decoration: none;
        transition: all 0.4s ease;
        padding: 0;
        outline-width: 0;
      }
      a:hover {
        color: var(--app-primary-text);
      }
    </style>

    <paper-card class="md-type--text-left">
      <div class="toolbar" style$="background-color:{{elementColor}}"></div>
      <h3 class="md-type--display3 md-type--app-primary md-type--black md-type--flatten-margin-all">{{elementSymbol}}</h3>
      <p class="md-type--display1 md-type--app-primary-text md-type--flatten-margin-all">
        {{elementName}}
      </p>
      <p class="push-left md-type--subhead md-type--app-secondary-text md-type--flatten-margin-all">
        {{elementLead}}
      </p>
      <p class="md-type--text-center">
      <iron-selector selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation">
          <a href="https://www.github.com/dwreckfoo" title="Github">
            <paper-icon-button icon="dylan-icons:github"></paper-icon-button>
          </a>
          <a href="https://www.instagram.com/dwreckfoo" title="Instagram">
            <paper-icon-button icon="dylan-icons:instagram"></paper-icon-button>
          </a>
          <a href="https://www.linkedin.com/in/dylanyates" title="LinkedIn">
            <paper-icon-button icon="dylan-icons:linkedin"></paper-icon-button>
          </a>
          <a name="contact" href="[[rootPath]]contact" title="Email">
            <paper-icon-button icon="dylan-icons:email"></paper-icon-button>
          </a>
        </iron-selector>
      </p>
    </paper-card>

  </template>

  <script>
    class HomeCard extends Polymer.Element {
      static get is() { return 'home-card'; }
      static get properties() {
        return {
          elementColor: String,
          elementSymbol: String,
          elementName: String,
          elementLead: String,
          elementLink: String,
          page: {
            type: String,
            reflectToAttribute: true,
            observer: '_pageChanged',
          }
        }
      }

      _pageChanged(page) {
        // Load page import on demand. Show 404 page if fails
        var resolvedPageUrl = this.resolveUrl('dylan-' + page + '.html');
        Polymer.importHref(
            resolvedPageUrl,
            null,
            this._showPage404.bind(this),
            true);
      }
    }

    window.customElements.define(HomeCard.is, HomeCard);
  </script>
</dom-module>
